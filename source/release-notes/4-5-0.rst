.. index:: CrafterCMS version 4.5.0 Release Notes

------------------------
CrafterCMS Version 4.5.0
------------------------

Released *TBD, 2025*

.. important::

    Please see :ref:`Breaking changes <breaking-changes-4-x>` for breaking changes and other
    things to consider before upgrading

    For instructions on how to update your CrafterCMS install, please see :ref:`upgrading-craftercms`

^^^^^^^^^^^^
New Features
^^^^^^^^^^^^
* New Groovy sandbox whitelists |br|
  See :ref:`Deployer Groovy Sandbox <deployer-groovy-sandbox-configuration>`,
  :ref:`Engine Groovy Sandbox <groovy-sandbox-configuration>` and
  :ref:`Studio Groovy Sandbox <studio-groovy-sandbox-configuration>` for more information on configuring the whitelists.

* Improved serverless performance |enterpriseOnly| |br|
  Improved startup and first page load speeds by using Redis/ValKey as a cache in front of S3.

* `New maintenance mode to lock non-admin end users out of Studio during maintenance <https://github.com/craftercms/craftercms/issues/5652>`__ |enterpriseOnly| |br|
  See :ref:`settings` for more information on enabling/disabling maintenance mode in Crafter Studio and
  :ref:`author-maintenance-mode` for the screens displayed during maintenance mode.

  Using the API :base_url:`Set system maintenance mode status <_static/api/studio.html#tag/system/operation/setMaintenanceMode>`
  also allows you to enable/disable maintenance mode.

^^^^^^^^^^^^
Enhancements
^^^^^^^^^^^^
* `New configurable properties for search connection pool max values for total connections and connections per route <https://github.com/craftercms/craftercms/issues/8344>`__ |br|
  See the :ref:`Deployer <deployer-search-connection-pool>`, :ref:`Engine <engine-search-connection-pool>`,
  and :ref:`Studio <studio-search>` search configuration sections for more information.

* `Improved query performance and OpenSearch caching <https://github.com/craftercms/craftercms/issues/8350>`__ |br|
  CrafterCMS by default now excludes disabled and expired content from search results via default filters. See :ref:`engine-search-default-filters` for more 
  information on enabling/disabling the default filters.

* `Search input field is now in focus when clicking the search button <https://github.com/craftercms/craftercms/issues/8352>`__

^^^^^^^^^
Bug Fixes
^^^^^^^^^
* `Fixed issue with repeating group control <https://github.com/craftercms/craftercms/issues/8355>`__

* `Fixed issue with deleting a renamed folder <https://github.com/craftercms/craftercms/issues/8354>`__

* `Fixed issue with Studio UI breaking when searching for a user with [SA] in the name <https://github.com/craftercms/craftercms/issues/8351>`__ |br|
  Square brackets are now allowed by default in search queries. To allow other characters not permitted by default in search queries,
  simply modify the ``studio.validation.regex.SEARCH_KEYWORDS`` property in the Studio :ref:`Global Config <nav-menu-global-config>`.
  
  See :ref:`studio-validations-regex` to learn more on configuring the regex for validating user names to suit your needs.

* Fixed issue with the load order for BouncyCastle jars

* Fixed issue with unmapped user groups during SSO login

^^^^^^^^^^^^^^^^^^
Dependency Updates
^^^^^^^^^^^^^^^^^^
* Noteworthy dependency updates:

  - Spring security to version 6.5.7
  - Spring Core to version 6.2.15
  - Tomcat to version 11.0.15
  - Mariadb4j to version 3.1.0.5
  - OpenSearch to version 3.3 |br|
    Please see :ref:`breaking-changes-in-craftercms-4-5-0` for some important changes in OpenSearch 3.3

For a complete list of community tickets, please visit: `GitHub 4.5.0 <https://github.com/orgs/craftercms/projects/34/views/1>`_

For information on upgrading 3.1.x sites, see :ref:`here <compatibility-with-3.1.x>`

|hr|

