.. index:: CrafterCMS 5.0.0 Release Notes

----------------
CrafterCMS 5.0.0
----------------

Released *TBD*

.. important::

    Please see :ref:`Breaking changes <breaking-changes-5-x>` for breaking changes and other
    things to consider before upgrading

    For instructions on how to update your CrafterCMS install, please see :ref:`upgrading-craftercms`

^^^^^^^^^^^^
New Features
^^^^^^^^^^^^
* **New publishing system**

^^^^^^^^^^^^
Enhancements
^^^^^^^^^^^^
* `Git CLI is now always enabled in Studio <https://github.com/craftercms/craftercms/issues/7704>`__ |br|
  The Git CLI enabled config has been removed from the Studio configuration file.
  Crafter Studio now requires Git 2.20.1 and later installed.

* `Improved Studio cluster sync failure notifications and monitoring <https://github.com/craftercms/craftercms/issues/7618>`__ |br|

* `Improved Git clean up task <https://github.com/craftercms/craftercms/issues/7534>`__ |br|

* `Groovy classes are now accessible to Content Type controllers <https://github.com/craftercms/craftercms/issues/6546>`__ |br|

* `Improved notification message models <https://github.com/craftercms/craftercms/issues/7557>`__ |br|

  - The following new variables are now used in the ``notification-config.xml`` notification configuration file:

    - ``publishPackage``: PublishPackage object

      .. raw:: html

          <details>
          <summary><a>PublishPackage object</a></summary>

      .. code-block:: java

          long id;
          long siteId;
          Site site;
          String target;
          Instant schedule;
          ApprovalState approvalState;
          long packageState;
          int liveError;
          int stagingError;
          long submitterId;
          String submitterComment;
          Instant submittedOn;
          Long reviewerId;
          String reviewerComment;
          Instant reviewedOn;
          Instant publishedOn;
          PackageType packageType;
          String commitId;
          String publishedStagingCommitId;
          String publishedLiveCommitId;

      .. raw:: html

          </details>

    - ``reviewer``: the reviewer user |br|
      The ``reviewer`` user replaces the ``approver`` and ``userThatRejects`` users in your notification configuration files

  - The maximum number of items to include in the workflow notification messages can now be configured via the property
    ``studio.workflow.notification.maxItemCount``.

  See the :ref:`notifications-configuration` for more information


^^^^^^^^^
Bug Fixes
^^^^^^^^^
* `Fixed issue with dependency extraction failing in Javascript on escaped quotes <https://github.com/craftercms/craftercms/issues/7773>`__ |br|

For a complete list of community tickets, please visit: `GitHub 5.0.0 <https://github.com/orgs/craftercms/projects/17/views/1>`_

For information on upgrading 3.1.x sites, see :ref:`here <compatibility-with-3.1.x>`

|hr|


