.. _crafter-studio-api-cancel-publish-requests:

=======================
Cancel Publish Requests
=======================

Cancel pending publish requests status for a site.

--------------------
Resource Information
--------------------

+-------------------------+-----------------------------------------------------------------------+
|| HTTP Verb              || POST                                                                 |
+-------------------------+-----------------------------------------------------------------------+
|| URL                    || ``/api/1/services/api/1/publish/cancel-publish-requests.json``       |
+-------------------------+-----------------------------------------------------------------------+
|| Response Formats       || ``JSON``                                                             |
+-------------------------+-----------------------------------------------------------------------+
|| Required Role          || Site admin, or has publish permission in this site                   |
+-------------------------+-----------------------------------------------------------------------+


----------
Parameters
----------

+---------------------+-------------+---------------+--------------------------------------------------+
|| Name               || Type       || Required     || Description                                     |
+=====================+=============+===============+==================================================+
|| site_id            || String     || |checkmark|  || Site to use                                     |
+---------------------+-------------+---------------+--------------------------------------------------+
|| package_ids        || String     || |checkmark|  || Package ids to cancel                           |
+---------------------+-------------+---------------+--------------------------------------------------+

-------
Example
-------

.. code-block:: guess

	POST .../api/1/services/api/1/publish/cancel-publish-requests.json

.. code-block:: json
    :linenos:

    {
        "site_id" : "mysite",
        "package_ids" : [
            "588d5441-9aa9-4fb7-9a51-8c9a80f4f1d5",
            "9a7a1d3a-5b33-43c7-8214-6795335a56b7",
            "32fce3fa-99f9-4f17-a723-53febe772bf3"
        ]
    }

--------
Response
--------

.. code-block:: json

  {
    "message" : "OK"
  }


---------
Responses
---------

+---------+---------------------------------------------------+
|| Status || Response Body                                    |
+=========+===================================================+
|| 200    || See example above.                               |
+---------+---------------------------------------------------+
|| 400    || ``{ "message" : "Invalid parameter(s)" }``       |
+---------+---------------------------------------------------+
|| 401    || ``{ "message" : "Unauthorized" }``               |
+---------+---------------------------------------------------+
|| 404    || ``{ "message" : "Site not found" }``             |
+---------+---------------------------------------------------+
|| 404    || ``{ "message" : "Package ID not found" }``       |
+---------+---------------------------------------------------+
|| 500    || ``{ "message" : "Internal server error.``        |
||        || ``ACTUAL_EXCEPTION" }``                          |
+---------+---------------------------------------------------+
